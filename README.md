# CapCutAPI-Complete

ğŸ¬ **CapCut API å®Œæ•´ç‰ˆ** - åŠŸèƒ½å¼ºå¤§çš„è§†é¢‘ç¼–è¾‘APIæœåŠ¡ï¼ŒåŸºäºå‰ªæ˜ (CapCut/JianYing)æ ¸å¿ƒåŠŸèƒ½å®ç°

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![Flask](https://img.shields.io/badge/Flask-2.3+-green.svg)](https://flask.palletsprojects.com/)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://www.docker.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸš€ é¡¹ç›®ç®€ä»‹

CapCutAPI-Complete æ˜¯ä¸€ä¸ªåŸºäº Python çš„å®Œæ•´è§†é¢‘ç¼–è¾‘APIæœåŠ¡ï¼Œæä¾›ä¸å‰ªæ˜ (CapCut/JianYing)ç±»ä¼¼çš„æ ¸å¿ƒåŠŸèƒ½ã€‚é€šè¿‡HTTP APIå’ŒMCPåè®®æ¥å£ï¼Œæ‚¨å¯ä»¥è½»æ¾å®ç°ï¼š

- ğŸï¸ è§†é¢‘å‰ªè¾‘å’Œåˆå¹¶
- ğŸµ éŸ³é¢‘å¤„ç†å’Œæ··éŸ³
- ğŸ“ æ–‡å­—å’Œå­—å¹•æ·»åŠ 
- âœ¨ ç‰¹æ•ˆå’Œè½¬åœºæ•ˆæœ
- ğŸ–¼ï¸ è´´çº¸å’Œè£…é¥°å…ƒç´ 
- ğŸ“¦ æ‰¹é‡å¤„ç†å’Œè‡ªåŠ¨åŒ–

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ è§†é¢‘å¤„ç†
- **å¤šè½¨é“ç¼–è¾‘**ï¼šæ”¯æŒæ— é™è§†é¢‘è½¨é“
- **æ ¼å¼è½¬æ¢**ï¼šæ”¯æŒMP4ã€AVIã€MOVã€MKVç­‰ä¸»æµæ ¼å¼
- **åˆ†è¾¨ç‡é€‚é…**ï¼šè‡ªåŠ¨é€‚é…1080Pã€4Kç­‰åˆ†è¾¨ç‡
- **å¸§ç‡è½¬æ¢**ï¼š24fpsã€30fpsã€60fpsæ— ç¼åˆ‡æ¢
- **è§†é¢‘å‹ç¼©**ï¼šæ™ºèƒ½å‹ç¼©ä¿æŒç”»è´¨

### ğŸµ éŸ³é¢‘å¤„ç†
- **éŸ³é¢‘æå–**ï¼šä»è§†é¢‘ä¸­æå–éŸ³é¢‘è½¨é“
- **éŸ³é‡è°ƒèŠ‚**ï¼šç²¾ç¡®åˆ°æ¯«ç§’çº§çš„éŸ³é‡æ§åˆ¶
- **æ·¡å…¥æ·¡å‡º**ï¼šå¹³æ»‘çš„éŸ³é¢‘è¿‡æ¸¡æ•ˆæœ
- **éŸ³é¢‘æ··åˆ**ï¼šå¤šè½¨é“éŸ³é¢‘æ··éŸ³
- **æ ¼å¼æ”¯æŒ**ï¼šMP3ã€WAVã€AACã€FLACç­‰

### ğŸ“ æ–‡å­—å’Œå­—å¹•
- **åŠ¨æ€å­—å¹•**ï¼šæ”¯æŒSRTã€ASSå­—å¹•æ ¼å¼
- **å­—ä½“æ ·å¼**ï¼šä¸°å¯Œçš„å­—ä½“å’Œæ ·å¼é€‰é¡¹
- **åŠ¨ç”»æ•ˆæœ**ï¼šæ–‡å­—å…¥åœºå’Œå‡ºåœºåŠ¨ç”»
- **å®æ—¶é¢„è§ˆ**ï¼šå³æ—¶æŸ¥çœ‹å­—å¹•æ•ˆæœ
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­è‹±æ–‡ç­‰å¤šè¯­è¨€å­—å¹•

### âœ¨ ç‰¹æ•ˆå’Œæ»¤é•œ
- **è½¬åœºæ•ˆæœ**ï¼š100+ç§ä¸“ä¸šè½¬åœº
- **è§†è§‰æ»¤é•œ**ï¼šç”µå½±çº§è°ƒè‰²æ»¤é•œ
- **åŠ¨æ€ç‰¹æ•ˆ**ï¼šç²’å­ã€å…‰æ•ˆã€æ¨¡ç³Šç­‰
- **è‡ªå®šä¹‰ç‰¹æ•ˆ**ï¼šæ”¯æŒè‡ªå®šä¹‰ç‰¹æ•ˆå‚æ•°
- **é¢„è®¾æ¨¡æ¿**ï¼šä¸€é”®åº”ç”¨ä¸“ä¸šæ¨¡æ¿

### ğŸ–¼ï¸ è´´çº¸å’Œè£…é¥°
- **é™æ€è´´çº¸**ï¼šPNGã€JPGã€SVGæ ¼å¼æ”¯æŒ
- **åŠ¨æ€è´´çº¸**ï¼šGIFå’ŒWebPåŠ¨ç”»è´´çº¸
- **è‡ªå®šä¹‰è´´çº¸**ï¼šæ”¯æŒç”¨æˆ·ä¸Šä¼ è‡ªå®šä¹‰è´´çº¸
- **ä½ç½®æ§åˆ¶**ï¼šç²¾ç¡®çš„ä½ç½®å’Œå¤§å°è°ƒæ•´
- **å±‚çº§ç®¡ç†**ï¼šçµæ´»çš„å›¾å±‚é¡ºåºæ§åˆ¶

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
CapCutAPI-Complete/
â”œâ”€â”€ capcut_server.py      # HTTP APIæœåŠ¡å™¨
â”œâ”€â”€ mcp_server.py         # MCPåè®®æœåŠ¡å™¨
â”œâ”€â”€ create_draft.py       # è‰ç¨¿ç®¡ç†
â”œâ”€â”€ add_video_track.py    # è§†é¢‘è½¨é“ç®¡ç†
â”œâ”€â”€ add_audio_track.py    # éŸ³é¢‘è½¨é“ç®¡ç†
â”œâ”€â”€ add_text.py          # æ–‡å­—å’Œå­—å¹•ç®¡ç†
â”œâ”€â”€ add_effects.py       # ç‰¹æ•ˆå’Œæ»¤é•œç®¡ç†
â”œâ”€â”€ add_stickers.py      # è´´çº¸å’Œè£…é¥°ç®¡ç†
â”œâ”€â”€ video_utils.py       # è§†é¢‘å¤„ç†å·¥å…·
â”œâ”€â”€ audio_utils.py       # éŸ³é¢‘å¤„ç†å·¥å…·
â”œâ”€â”€ image_utils.py       # å›¾åƒå¤„ç†å·¥å…·
â”œâ”€â”€ utils.py             # é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ Dockerfile           # Dockerå®¹å™¨é…ç½®
â”œâ”€â”€ docker-compose.yml   # å¤šæœåŠ¡ç¼–æ’
â””â”€â”€ requirements.txt     # ä¾èµ–åŒ…åˆ—è¡¨
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **FFmpeg**: æœ€æ–°ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Windows 10+/macOS 10.14+/Ubuntu 18.04+
- **å†…å­˜**: æœ€å°‘4GB RAMï¼ˆæ¨è8GB+ï¼‰
- **å­˜å‚¨**: è‡³å°‘10GBå¯ç”¨ç©ºé—´

### ğŸ”§ å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/chenzhaohua11/CapCutAPI-Complete.git
cd CapCutAPI-Complete
```

#### 2. å®‰è£…ä¾èµ–

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ–
venv\Scripts\activate     # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

#### 3. å®‰è£…FFmpeg

**Ubuntu/Debian:**
```bash
sudo apt update
sudo apt install ffmpeg
```

**macOS:**
```bash
brew install ffmpeg
```

**Windows:**
- ä¸‹è½½ [FFmpeg Windowsç‰ˆæœ¬](https://ffmpeg.org/download.html)
- è§£å‹å¹¶æ·»åŠ åˆ°ç³»ç»ŸPATH

#### 4. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨HTTP APIæœåŠ¡å™¨
python capcut_server.py

# å¯åŠ¨MCPæœåŠ¡å™¨
python mcp_server.py
```

### ğŸ³ Dockeréƒ¨ç½²

#### 1. ä½¿ç”¨Docker Compose

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f capcut-api
```

#### 2. å•ç‹¬æ„å»ºé•œåƒ

```bash
# æ„å»ºé•œåƒ
docker build -t capcut-api .

# è¿è¡Œå®¹å™¨
docker run -p 5000:5000 -v $(pwd)/data:/app/data capcut-api
```

## ğŸ“– APIä½¿ç”¨æŒ‡å—

### ğŸŒ HTTP APIæ¥å£

#### åˆ›å»ºé¡¹ç›®è‰ç¨¿

```bash
curl -X POST http://localhost:5000/create_draft \
  -H "Content-Type: application/json" \
  -d '{
    "name": "æˆ‘çš„ç¬¬ä¸€ä¸ªé¡¹ç›®",
    "resolution": "1920x1080",
    "fps": 30,
    "duration": 60
  }'
```

#### æ·»åŠ è§†é¢‘

```bash
curl -X POST http://localhost:5000/add_video \
  -H "Content-Type: application/json" \
  -d '{
    "draft_id": "draft_123456",
    "video_url": "https://example.com/video.mp4",
    "start_time": 0,
    "duration": 10,
    "position": {"x": 0, "y": 0},
    "size": {"width": 1920, "height": 1080}
  }'
```

#### æ·»åŠ éŸ³é¢‘

```bash
curl -X POST http://localhost:5000/add_audio \
  -H "Content-Type: application/json" \
  -d '{
    "draft_id": "draft_123456",
    "audio_url": "https://example.com/audio.mp3",
    "start_time": 0,
    "duration": 10,
    "volume": 0.8
  }'
```

#### æ·»åŠ æ–‡å­—

```bash
curl -X POST http://localhost:5000/add_text \
  -H "Content-Type: application/json" \
  -d '{
    "draft_id": "draft_123456",
    "content": "Hello, CapCut API!",
    "start_time": 2,
    "duration": 5,
    "position": {"x": 100, "y": 100},
    "font_size": 48,
    "color": "#FFFFFF"
  }'
```

#### æ·»åŠ ç‰¹æ•ˆ

```bash
curl -X POST http://localhost:5000/add_effect \
  -H "Content-Type: application/json" \
  -d '{
    "draft_id": "draft_123456",
    "effect_type": "fade_in",
    "start_time": 0,
    "duration": 2,
    "intensity": 0.8
  }'
```

#### å¯¼å‡ºè§†é¢‘

```bash
curl -X POST http://localhost:5000/export_video \
  -H "Content-Type: application/json" \
  -d '{
    "draft_id": "draft_123456",
    "format": "mp4",
    "quality": "high",
    "fps": 30
  }'
```

### ğŸ”Œ MCPåè®®æ¥å£

MCP (Media Control Protocol) æä¾›æ›´é«˜æ€§èƒ½çš„æ¥å£ï¼š

```python
from mcp_client import MCPClient

client = MCPClient("localhost", 5001)

# åˆ›å»ºé¡¹ç›®
draft = client.create_draft(
    name="MCPé¡¹ç›®",
    resolution="1920x1080",
    fps=30
)

# æ·»åŠ åª’ä½“
video_id = client.add_video(draft.id, "video.mp4")
audio_id = client.add_audio(draft.id, "audio.mp3")
text_id = client.add_text(draft.id, "Hello World")

# åº”ç”¨ç‰¹æ•ˆ
client.add_transition(video_id, "fade_in")
client.add_filter(video_id, "vintage")

# å¯¼å‡ºç»“æœ
output_path = client.export(draft.id, "final_video.mp4")
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
CapCutAPI-Complete/
â”œâ”€â”€ ğŸ“ é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ ğŸ“ data/                    # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ uploads/            # ä¸Šä¼ æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ drafts/             # é¡¹ç›®è‰ç¨¿
â”‚   â”œâ”€â”€ ğŸ“ exports/            # å¯¼å‡ºæ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“ cache/              # ç¼“å­˜æ–‡ä»¶
â”œâ”€â”€ ğŸ“ templates/              # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ ğŸ“ config/                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“ logs/                   # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ ğŸ“ tests/                  # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ ğŸ“ docs/                   # æ–‡æ¡£æ–‡ä»¶
```

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: chenzhaohua11
- **é‚®ç®±**: 863654981@qq.com
- **GitHub**: [chenzhaohua11](https://github.com/chenzhaohua11)
- **é¡¹ç›®åœ°å€**: [CapCutAPI-Complete](https://github.com/chenzhaohua11/CapCutAPI-Complete)

---

<div align="center">
  <p>â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼</p>
  <p><a href="https://github.com/chenzhaohua11/CapCutAPI-Complete">ğŸŒŸ Star this repo</a></p>
</div>