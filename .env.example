# CapCutAPI Environment Configuration
# Copy this file to .env and configure your settings
# ⚠️  重要：不要在生产环境中使用默认值！

# =============================================================================
# 服务器配置
# =============================================================================
HOST=0.0.0.0
PORT=9001
DEBUG=false
ENVIRONMENT=production
LOG_LEVEL=INFO

# 性能调优
WORKER_COUNT=4
MAX_CONCURRENT_JOBS=10
JOB_TIMEOUT=300
REQUEST_TIMEOUT=60

# =============================================================================
# 安全设置
# =============================================================================
# 重要：生产环境必须修改！
SECRET_KEY=your-super-secret-key-change-this-immediately
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# 文件上传安全
MAX_FILE_SIZE=500MB
ALLOWED_EXTENSIONS=mp4,mov,avi,mkv,jpg,jpeg,png,mp3,wav
UPLOAD_RATE_LIMIT=100/hour

# =============================================================================
# CapCut/JianYing 环境配置
# =============================================================================
IS_CAPCUT_ENV=true
DRAFT_DOMAIN=https://www.capcutapi.top
PREVIEW_ROUTER=/draft/downloader
IS_UPLOAD_DRAFT=false

# =============================================================================
# 文件存储配置
# =============================================================================
# 本地存储
MEDIA_ROOT=./media
DRAFTS_ROOT=./drafts
LOGS_ROOT=./logs
TEMP_DIR=./temp

# 上传限制
UPLOAD_DIR=./uploads
OUTPUT_DIR=./outputs
CLEANUP_TEMP_FILES=true
TEMP_FILE_TTL=3600

# =============================================================================
# 阿里云OSS配置
# =============================================================================
# 通用OSS配置
OSS_BUCKET_NAME=your-bucket-name
OSS_ACCESS_KEY_ID=your-access-key-id
OSS_ACCESS_KEY_SECRET=your-access-key-secret
OSS_ENDPOINT=https://oss-cn-region.aliyuncs.com
OSS_SECURE=true

# MP4专用OSS配置
MP4_OSS_BUCKET_NAME=your-mp4-bucket-name
MP4_OSS_ACCESS_KEY_ID=your-access-key-id
MP4_OSS_ACCESS_KEY_SECRET=your-access-key-secret
MP4_OSS_REGION=your-region
MP4_OSS_ENDPOINT=http://your-custom-domain

# OSS高级配置
OSS_RETRY_TIMES=3
OSS_CONNECT_TIMEOUT=30
OSS_READ_TIMEOUT=30

# =============================================================================
# 数据库配置
# =============================================================================
# SQLite（默认）
DATABASE_URL=sqlite:///./capcut.db

# Redis缓存（可选）
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# 监控和指标
# =============================================================================
# 应用监控
ENABLE_METRICS=true
METRICS_PORT=8080
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# 日志配置
LOG_FORMAT=json
LOG_ROTATION=1 day
LOG_RETENTION=30 days
LOG_COMPRESSION=zip

# 性能监控
ENABLE_PROFILING=false
PROFILING_PORT=8081
MEMORY_LIMIT=2GB
CPU_LIMIT=2

# =============================================================================
# 缓存配置
# =============================================================================
CACHE_TYPE=redis
CACHE_SIZE=10000
CACHE_TTL=3600
CACHE_KEY_PREFIX=capcut
CACHE_REDIS_URL=redis://localhost:6379/0

# =============================================================================
# MCP配置
# =============================================================================
MCP_ENABLED=true
MCP_PORT=9002
MCP_HOST=0.0.0.0
MCP_LOG_LEVEL=INFO
MCP_MAX_CONNECTIONS=100

# =============================================================================
# 开发环境配置
# =============================================================================
# 开发专用（不要在生产使用！）
RELOAD=false
HOT_RELOAD=false
VERBOSE=false
DEBUG_SQL=false
DEBUG_REQUESTS=false

# =============================================================================
# 第三方服务配置
# =============================================================================
# 邮件通知（可选）
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@capcutapi.com

# 错误追踪（可选）
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# =============================================================================
# 高级配置
# =============================================================================
# 队列配置
QUEUE_BACKEND=redis
QUEUE_NAME=capcut_tasks
QUEUE_TIMEOUT=300

# 备份配置
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_STORAGE=local

# 安全头部
ENABLE_SECURITY_HEADERS=true
FORCE_HTTPS=false
HSTS_MAX_AGE=31536000